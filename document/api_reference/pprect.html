<!DOCTYPE html> 
<html> 
	<head> 
	<title>PicoPicoGameEngine</title> 
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=no"> 
	<link rel="apple-touch-icon" href="./apple-touch-icon.png" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	<link rel="stylesheet" href="../picoapi.css" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
  <script type="text/javascript" src="../common.js"></script>
</head> 
<body> 

<div data-role="page" id="pprect">
	<div data-role="header" data-theme="d">
		<h1>pprect</h1>
		<a href="#" data-role="button" data-rel="back" data-icon="arrow-l" class="ui-btn-left">Back</a>
		<a href="../index.html" class="ui-btn-right">TOP</a>
	</div><!-- /header -->

	<div data-role="content">	
	矩形を管理するクラスです。
	pprect同士は四則演算(+,-,/.*)が可能です。
	pppointとの演算も可能です。

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>pprect(x,y,width,height)</h3>
<p class="pico-desc">pprectオブジェクトを作成します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>.x<br/>
    .y</h3>
<p class="pico-desc">X座標、Y座標です。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>.width<br/>
    .height</h3>
<p class="pico-desc">横幅、高さです。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:min()</h3>
<p class="pico-desc">左上の座標を計算します。</p>
</div>
	
<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:max()</h3>
<p class="pico-desc">右下の座標を計算します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:cetner()</h3>
<p class="pico-desc">中央の座標を計算します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:equalToSize({rect})</h3>
<p class="pico-desc">サイズが同じかどうかを判定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:equalToRect({rect})</h3>
<p class="pico-desc">同じ矩形かどうかを判定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:isEmpty()</h3>
<p class="pico-desc">横幅、高さが0かどうかを判定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:move(x,y)</h3>
<p class="pico-desc">位置を移動します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:position(x,y)<br/>
:pos(x,y)</h3>
<p class="pico-desc">位置を指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:size(width,height)</h3>
<p class="pico-desc">サイズを変更します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:scale(a)</h3>
<p class="pico-desc">サイズをa倍します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:inset(x,y)</h3>
<p class="pico-desc">矩形を縮めます。負の値の場合は大きくします。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:contain(x,y)</h3>
<p class="pico-desc">座標を含んだ矩形かどうかを判定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:intersect(r)</h3>
<p class="pico-desc">矩形が交差しているかどうかを判定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:union(r)</h3>
<p class="pico-desc">２つの矩形を含んだ矩形を返します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:length(x,y)</h3>
<p class="pico-desc">矩形の左上の位置との距離を計算します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>	:hitCheck(points,hitCheck)</h3>
<p class="pico-desc">矩形とのあたり判定を行います。</p>

<div data-role="collapsible-set"><div data-role="collapsible" data-theme="e" data-content-theme="e"><h3>sample code</h3>
<textarea class="code" id="pprect-1">--ボタンの処理例
button=ppsprite.new()
button:texture("button.png")
button:tileInfo({size=button:texture().imageSize})
button:tile(1)
button:pos(ppgraph:layout(button:size(),true,true))
count=0

function start()
  if button:hitCheck(pptouch()) then
    count=count+1
  end
  ppgraph:print("TouchCount:"..count)
  ppgraph:move(0,16)
  if button.hit then
    ppgraph:print("Hit!")
    ppgraph:move(0,16)
  end
  if button.trigger then
    ppgraph:print("Trigger!")
    ppgraph:move(0,16)
  end
  if button.touch then
    ppgraph:print("Touch!")
    button:alpha(128)
  else
    button:alpha(255)
  end
  button:draw()
end
</textarea>
<div data-role="button" onclick="selectarea('#pprect-1')" data-mini="true">全選択</div>
<img src="./image/screen-shot 2012-11-18 11.32.47.png" class="pico-image">

<textarea class="code" id="pprect-2">--ボタンの処理例(タッチエリアのサイズを16ドット広げる)
button=ppsprite.new()
button:texture("button.png")
button:tileInfo({size=button:texture().imageSize})
button:tile(1)
button:pos(ppgraph:layout(button:size(),true,true))
count=0

function hitfunc(button,point)
  local area=button:aabb():inset(-16)
  return area:contain(point)
end

function start()
  if button:hitCheck(pptouch(),hitfunc) then
    count=count+1
  end
  if button.touch then
    button:alpha(128)
  else
    button:alpha(255)
  end
  ppgraph:print("TouchCount:"..count)
  button:draw()
  ppgraph:box(button:aabb():inset(-16))
end
</textarea>
<div data-role="button" onclick="selectarea('#pprect-2')" data-mini="true">全選択</div>
<img src="./image/screen-shot 2012-11-18 11.42.42.png" class="pico-image">

</div></div>


</div>
	</div>

	<div data-role="footer" data-theme="d">
		<h4>PicoPicoGameEngine</h4> 
		<a href="#" data-role="button" data-rel="back" data-icon="arrow-l" class="ui-btn-left">Back</a>
		<a href="../index.html" class="ui-btn-right">TOP</a>
	</div>
</div>

</body>
</html>
