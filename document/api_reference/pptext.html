<!DOCTYPE html> 
<html> 
	<head> 
	<title>PicoPicoGameEngine</title> 
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=no"> 
	<link rel="apple-touch-icon" href="./apple-touch-icon.png" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
	<link rel="stylesheet" href="../picoapi.css" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
</head> 
<body> 

<div data-role="page" id="pptext">
	<div data-role="header" data-theme="d">
		<h1>pptext</h1>
		<a href="#" data-role="button" data-rel="back" data-icon="arrow-l" class="ui-btn-left">Back</a>
		<a href="../index.html" class="ui-btn-right">TOP</a>
	</div><!-- /header -->

	<div data-role="content">	
	テキストメニューを表示する事ができるクラスです。
	ppspriteを継承しています。

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>pptext.new()<br/>
pptext.new(n)</h3>
<p class="pico-desc">pptextオブジェクトを作成します。引数nを指定すると指定した数だけpptextオブジェクトが入ったテーブルを返します。</p>


<div data-role="collapsible-set"><div data-role="collapsible" data-theme="e" data-content-theme="e"><h3>sample code</h3>
<pre><code>text = pptext.new()
text:frameRect(0,0,320,200)
text:lineHeight(ppfont:height())
text:clear()
text:autoScroll(true)
text:autoCenter(false)
text:add("01:あいうえお")
text:add("02:かきくけこ")
text:add("03:ABCDEFG")
text:add("04:↑↓←→△▲▽▼")

function start()
	text:draw()
end</code></pre>

<img src="./image/screen-shot 2012-11-07 14.04.54.png"/></div></div>

</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:frameRect({x,y,width,height})</h3>
<p class="pico-desc">ウインドウ領域を指定します。引数がない場合は設定値を返します。</p>
    
<div data-role="collapsible-set"><div data-role="collapsible" data-theme="e" data-content-theme="e"><h3>sample code</h3>
<pre><code>m=pptext.new()
m:frameRect(16,16,ppscreen:size().width-32,300)
for i=0,30 do
  m:add("LIST "..i)
end

function start()
  ppgraph:fill(m:frameRect(),ppgraph.blue)
  v=ppscreen:viewport()
  ppscreen:viewport(m:frameRect())
  m:idle()
  m:draw()
  ppscreen:viewport(v)
end</code></pre>
<img src="./image/screen-shot 2012-06-28 17.27.54.png"/></div></div>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:contentsRect()</h3>
<p class="pico-desc">テキストの内部領域のエリア(pprect)を返します。テキストが変更されると自動的に再計算されます。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:isDragging()</h3>
<p class="pico-desc">ドラッグ中かどうかを返します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:idle()</h3>
<p class="pico-desc">タッチ処理やスクロール処理を動作させます。</p>
</div>
    
<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:clear()</h3>
<p class="pico-desc">入力したテキストを全て削除します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:text(text)</h3>
<p class="pico-desc">表示するテキストを指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:lineHeight(lineHeight)</h3>
<p class="pico-desc">１行の高さを指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:cellRect(line)</h3>
<p class="pico-desc">指定したセルの矩形領域を返します。</p>

<div data-role="collapsible-set"><div data-role="collapsible" data-theme="e" data-content-theme="e"><h3>sample code</h3>
<pre><code>m=pptext.new()
m:frameRect(16,16,100,100)
m:add("HELLO WOLRD 1")
m:add("HELLO")
	
function start()
  ppgraph:fill(m:frameRect(),ppgraph.blue)
  v=ppscreen:viewport()
  ppscreen:viewport(m:frameRect())
  m:idle()
  m:draw()
  ppscreen:viewport(v)
  
  ppgraph:box(m:cellRect(1),ppgraph.red)
  ppgraph:box(m:cellRect(2),ppgraph.red)
  
end</code></pre>
<img src="./image/screen-shot 2012-06-28 17.31.25.png"/></div></div>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:cellString(line)</h3>
<p class="pico-desc">指定したセルの文字をテーブルで返します。</p>

<div data-role="collapsible-set"><div data-role="collapsible" data-theme="e" data-content-theme="e"><h3>sample code</h3>
<pre><code>--小さなウインドウ領域を作り長い文字(HELLO WORLD 1)を描画します
m=pptext.new()
m:frameRect(16,16,100,100)
m:add("HELLO WOLRD 1")
m:add("HELLO WOLRD 2")
	
function start()
  ppgraph:fill(m:frameRect(),ppgraph.blue)
  v=ppscreen:viewport()
  ppscreen:viewport(m:frameRect())
  m:idle()
  m:draw()
  ppscreen:viewport(v)
  ppgraph:locate(132,16)
  --複数行にまたがった文字を取り出します
  for k,v in pairs(m:cellString(1)) do
	ppgraph:print(k..":"..v)
	ppgraph:move(0,16)
  end
end</code></pre>
<img src="./image/screen-shot 2012-06-28 17.38.54.png"/></div></div>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:autoScroll(flag)</h3>
<p class="pico-desc">追加した文字がウインドウ領域内に入るように自動スクロールするかどうかの指定をします。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:autoCenter(flag)</h3>
<p class="pico-desc">文字がウインドウ領域内に収まった場合に中央に寄せるかどうか指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:cellCount()</h3>
<p class="pico-desc">セルの数を返します。</p>
</div>
    
<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:hideCell(flag)</h3>
<p class="pico-desc">文字の描画を行うかどうかの指定をします。</p>
</div>
    
<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:select({...})</h3>
<p class="pico-desc">指定したセルを選択します。引数がない場合は選択行を返します。</p>

<div data-role="collapsible-set"><div data-role="collapsible" data-theme="e" data-content-theme="e"><h3>sample code</h3>
<pre><code>--２、４、５行を選択状態にする
m=pptext.new()
m:frameRect(ppscreen:size())
m:add("HELLO WOLRD 1")
m:add("HELLO WORLD 2")
m:add("HELLO WORLD 3")
m:add("HELLO WORLD 4")
m:add("HELLO WORLD 5")
m:selectable(true)
m:select({2,4,5})

function start()
  ppgraph:fill(m:frameRect(),ppgraph.blue)
  ppscreen:viewport(m:frameRect())
  m:idle()
  m:draw()
  ppscreen:viewport(ppscreen:size())
end</code></pre>
<img src="./image/screen-shot 2012-06-28 17.35.24.png"/></div></div>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:selectedColor({r,g,b,a})</h3>
<p class="pico-desc">選択したセルの色を指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:selectable(flag)</h3>
<p class="pico-desc">選択可能かどうかを指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:multiselectable(flag)</h3>
<p class="pico-desc">複数選択可能かどうかを指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:emptyselection(flag)</h3>
<p class="pico-desc">０選択状態が可能かどうかを指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:column(column)</h3>
<p class="pico-desc">カラム数を指定します。</p>

<div data-role="collapsible-set"><div data-role="collapsible" data-theme="e" data-content-theme="e"><h3>sample code</h3>
<pre><code>--２カラム表示
m=pptext.new()
m:frameRect(ppscreen:size())
for i=0,30 do
  m:add("LIST "..i)
end
m:column(2)

function start()
  ppgraph:fill(m:frameRect(),ppgraph.blue)
  ppscreen:viewport(m:frameRect())
  m:idle()
  m:draw()
  ppscreen:viewport(ppscreen:size())
end</code></pre>
<img src="./image/screen-shot 2012-06-28 17.37.05.png"/></div></div>

</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:speed(speed)</h3>
<p class="pico-desc">追加文字の表示スピードを指定します。<br/>1以上を指定すると追加文字列を1文字づつ表示していきます。<br/>0を指定すると遅延なく表示されます。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:add(text)</h3>
<p class="pico-desc">文字を追加します。改行コードが末尾に付加されます。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:append(text)</h3>
<p class="pico-desc">文字を追加します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:done()</h3>
<p class="pico-desc">追加文字の表示アニメーションが終了したかどうかを返します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:cursorPosition()</h3>
<p class="pico-desc">カーソル位置を返します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:margin({top,left,bottom,right})</h3>
<p class="pico-desc">文字表示位置のマージンを指定します。</p>
</div>

<div data-role="collapsible" data-theme="c" data-content-theme="c"> 
<h3>:lastSelect()</h3>
<p class="pico-desc">最後に選択したセルの番号を返します。</p>
</div>
	</div>

	<div data-role="footer" data-theme="d">
		<h4>PicoPicoGameEngine</h4> 
		<a href="#" data-role="button" data-rel="back" data-icon="arrow-l" class="ui-btn-left">Back</a>
		<a href="../index.html" class="ui-btn-right">TOP</a>
	</div>
</div>

</body>
</html>
